import{A as b,s as C,a as A}from"./ArticleService-C4KLss51.js";import{a as B}from"./index-BGHzph7n.js";import{q as N,t as c,E as V,o as l,l as i,j as h,v as s,C as a,F as j,x as E,h as S,w as r,A as p,y as f}from"./index-zO9eK7yN.js";import"./apiConstant-CfeJfL3b.js";const F={key:0,class:"h-[50rem] flex items-center justify-center"},P={key:1,class:"h-[50rem] flex items-center justify-center"},$={class:"text-red-600"},z={key:2,class:"grid grid-cols-1 sm:grid-cols-3 gap-5"},M=["src","alt"],R={class:"flex flex-col capitalize"},q={class:"m-0"},D=["onClick"],H=["href"],L=N({__name:"HomeView",setup(T){const m=c([]),u=c(!0),d=c(null),o=c([]),v=async()=>{u.value=!0;try{const e=await b.getArticles();m.value=e,o.value=e==null?void 0:e.map(()=>!1)}catch(e){console.error(e),d.value="Failed to fetch articles. Please try again later."}finally{u.value=!1}},g=(e,_=100)=>e.length>_?e.substring(0,_)+"...":e,x=e=>{o.value[e]=!o.value[e]};return V(()=>{v()}),(e,_)=>{const y=C,k=B,w=A;return u.value?(l(),i("div",F,[h(y)])):d.value?(l(),i("div",P,[s("p",$,a(d.value),1)])):(l(),i("div",z,[(l(!0),i(j,null,E(m.value,(t,n)=>(l(),S(w,{key:n,class:f([o.value[n]?"h-auto":"h-[32rem]","w-full"])},{header:r(()=>[s("img",{src:t.image,alt:t.title,loading:"eager",decoding:"async",class:"p-5 h-52 w-full object-contain"},null,8,M)]),title:r(()=>[p(a(t.title),1)]),subtitle:r(()=>[s("p",R,[s("span",null,[p(a(t.date)+" - ",1),s("span",{class:f(["text-sm",t.status==="Published"?"text-green-600":"text-blue-600"])},a(t.status),3)]),s("span",null,"Editor: "+a(t.editor||"No valid editor"),1),s("span",null,"Writer: "+a(t.writer||"No valid writer"),1)])]),content:r(()=>[s("p",q,[p(a(o.value[n]?t.content:g(t.content))+" ",1),s("span",{class:"text-blue-300 cursor-pointer text-xs ml-1",onClick:W=>x(n)},a(o.value[n]?"Show less":"Read more"),9,D)])]),footer:r(()=>[s("a",{href:t.link,target:"_blank"},[h(k,{label:"View",severity:"secondary",outlined:"",class:"w-36"})],8,H)]),_:2},1032,["class"]))),128))]))}}});export{L as default};
